# =============================================================================
# KOLESA.KZ BACKEND - ENVIRONMENT VARIABLES
# =============================================================================
# Скопируйте этот файл в .env и настройте значения для вашего окружения

# =============================================================================
# ОСНОВНЫЕ НАСТРОЙКИ ПРИЛОЖЕНИЯ
# =============================================================================

# Режим работы приложения (development, production, testing)
FLASK_ENV=development

# Секретный ключ для сессий и JWT (ОБЯЗАТЕЛЬНО ИЗМЕНИТЕ В ПРОДАКШЕНЕ!)
SECRET_KEY=your-super-secret-key-change-this-in-production

# Отладочный режим (True/False)
DEBUG=True

# Хост и порт для запуска
HOST=0.0.0.0
PORT=5000

# =============================================================================
# БАЗА ДАННЫХ
# =============================================================================

# URL подключения к PostgreSQL базе данных
DATABASE_URL=postgresql://kolesa_user:kolesa_password@localhost:5432/kolesa_db

# Настройки пула соединений
SQLALCHEMY_POOL_SIZE=10
SQLALCHEMY_MAX_OVERFLOW=20
SQLALCHEMY_POOL_TIMEOUT=30
SQLALCHEMY_POOL_RECYCLE=3600

# Логирование SQL запросов (True/False)
SQLALCHEMY_ECHO=False

# =============================================================================
# REDIS (КЭШИРОВАНИЕ И СЕССИИ)
# =============================================================================

# URL подключения к Redis
REDIS_URL=memory://localhost:6379/0

# Настройки сессий Redis
SESSION_REDIS_URL=redis://localhost:6379/1

# TTL для кэша (в секундах)
CACHE_DEFAULT_TIMEOUT=3600

# =============================================================================
# JWT АУТЕНТИФИКАЦИЯ
# =============================================================================

# Секретный ключ для JWT токенов
JWT_SECRET_KEY=your-jwt-secret-key-change-this

# Время жизни access токена (в минутах)
JWT_ACCESS_TOKEN_EXPIRES=60

# Время жизни refresh токена (в днях)
JWT_REFRESH_TOKEN_EXPIRES=30

# Алгоритм подписи JWT
JWT_ALGORITHM=HS256

# =============================================================================
# CELERY (ФОНОВЫЕ ЗАДАЧИ)
# =============================================================================

# Брокер для Celery (Redis)
CELERY_BROKER_URL=redis://localhost:6379/2

# Результаты Celery
CELERY_RESULT_BACKEND=redis://localhost:6379/3

# Часовой пояс для Celery
CELERY_TIMEZONE=Asia/Almaty

# =============================================================================
# ФАЙЛЫ И МЕДИА
# =============================================================================

# Папка для загрузки файлов
UPLOAD_FOLDER=uploads

# Максимальный размер файла (в байтах, 16MB по умолчанию)
MAX_CONTENT_LENGTH=16777216

# Разрешенные расширения для изображений
ALLOWED_IMAGE_EXTENSIONS=jpg,jpeg,png,gif,webp

# Разрешенные расширения для документов
ALLOWED_DOCUMENT_EXTENSIONS=pdf,doc,docx

# Максимальное количество файлов на объявление
MAX_FILES_PER_LISTING=20

# =============================================================================
# ОБЛАЧНОЕ ХРАНИЛИЩЕ (AWS S3 / YANDEX CLOUD)
# =============================================================================

# Провайдер облачного хранилища (local, aws, yandex)
CLOUD_STORAGE_PROVIDER=local

# AWS S3 настройки
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=kolesa-uploads
AWS_S3_REGION=us-east-1

# Yandex Cloud Object Storage
YANDEX_ACCESS_KEY_ID=your-yandex-access-key
YANDEX_SECRET_ACCESS_KEY=your-yandex-secret-key
YANDEX_S3_BUCKET=kolesa-uploads
YANDEX_S3_ENDPOINT=https://storage.yandexcloud.net

# =============================================================================
# EMAIL НАСТРОЙКИ
# =============================================================================

# SMTP сервер для отправки email
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False

# Учетные данные SMTP
MAIL_USERNAME=noreply@kolesa.kz
MAIL_PASSWORD=your-email-password

# Отправитель по умолчанию
MAIL_DEFAULT_SENDER=noreply@kolesa.kz

# =============================================================================
# SMS НАСТРОЙКИ
# =============================================================================

# Провайдер SMS (smsc, kazinfo, etc.)
SMS_PROVIDER=smsc

# SMS.ru настройки
SMSC_LOGIN=your-smsc-login
SMSC_PASSWORD=your-smsc-password

# KazInfo SMS настройки
KAZINFO_API_KEY=your-kazinfo-api-key
KAZINFO_SENDER_NAME=KOLESA

# =============================================================================
# PUSH УВЕДОМЛЕНИЯ
# =============================================================================

# Firebase Cloud Messaging
FCM_API_KEY=your-fcm-server-key
FCM_PROJECT_ID=your-firebase-project-id

# Web Push (VAPID keys)
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_CLAIMS={"sub": "mailto:admin@kolesa.kz"}

# =============================================================================
# ПЛАТЕЖНЫЕ СИСТЕМЫ
# =============================================================================

# Kaspi Pay
KASPI_MERCHANT_ID=your-kaspi-merchant-id
KASPI_SECRET_KEY=your-kaspi-secret-key
KASPI_API_URL=https://api.kaspi.kz

# Halyk Pay
HALYK_MERCHANT_ID=your-halyk-merchant-id
HALYK_SECRET_KEY=your-halyk-secret-key
HALYK_API_URL=https://pay.halykbank.kz

# PayKassa
PAYKASSA_MERCHANT_ID=your-paykassa-merchant-id
PAYKASSA_SECRET_KEY=your-paykassa-secret-key

# =============================================================================
# ВНЕШНИЕ API
# =============================================================================

# Google Maps API (для геокодирования)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# Yandex Maps API
YANDEX_MAPS_API_KEY=your-yandex-maps-api-key

# API курсов валют
EXCHANGE_RATES_API_KEY=your-exchange-rates-api-key

# =============================================================================
# БЕЗОПАСНОСТЬ
# =============================================================================

# Список разрешенных хостов (через запятую)
ALLOWED_HOSTS=localhost,127.0.0.1,kolesa.kz,*.kolesa.kz

# CORS настройки
CORS_ORIGINS=http://localhost:3000,https://kolesa.kz

# Максимальное количество попыток входа
MAX_LOGIN_ATTEMPTS=5

# Время блокировки после превышения попыток (в минутах)
LOGIN_BLOCK_TIME=30

# Включить HTTPS (True/False)
FORCE_HTTPS=False

# =============================================================================
# ЛОГИРОВАНИЕ
# =============================================================================

# Уровень логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Папка для логов
LOG_FOLDER=logs

# Максимальный размер лог файла (в байтах)
LOG_MAX_BYTES=10485760

# Количество backup файлов логов
LOG_BACKUP_COUNT=5

# Логирование в syslog (True/False)
LOG_TO_SYSLOG=False

# =============================================================================
# МОНИТОРИНГ И АНАЛИТИКА
# =============================================================================

# Sentry DSN для отслеживания ошибок
SENTRY_DSN=your-sentry-dsn

# Google Analytics ID
GA_TRACKING_ID=UA-XXXXXXXXX-X

# Yandex Metrika ID
YM_COUNTER_ID=XXXXXXXX

# =============================================================================
# ПРОИЗВОДИТЕЛЬНОСТЬ
# =============================================================================

# Количество worker процессов для Gunicorn
WORKERS=4

# Тип worker'ов (sync, gevent, eventlet)
WORKER_CLASS=sync

# Таймаут для worker'ов (в секундах)
WORKER_TIMEOUT=30

# Максимальное количество соединений на worker
WORKER_CONNECTIONS=1000

# =============================================================================
# РЕЗЕРВНОЕ КОПИРОВАНИЕ
# =============================================================================

# Включить автоматическое резервное копирование БД
ENABLE_DB_BACKUP=True

# Расписание резервного копирования (cron формат)
BACKUP_SCHEDULE=0 2 * * *

# Папка для хранения резервных копий
BACKUP_FOLDER=backups

# Количество дней хранения резервных копий
BACKUP_RETENTION_DAYS=30

# =============================================================================
# РАЗРАБОТКА И ТЕСТИРОВАНИЕ
# =============================================================================

# База данных для тестов
TEST_DATABASE_URL=postgresql://kolesa_user:kolesa_password@localhost:5432/kolesa_test_db

# Включить профилирование (True/False)
ENABLE_PROFILING=False

# Включить отладочную панель (True/False)
ENABLE_DEBUG_TOOLBAR=False

# Seed данные при инициализации (True/False)
SEED_SAMPLE_DATA=True

# =============================================================================
# ЛОКАЛИЗАЦИЯ
# =============================================================================

# Язык по умолчанию
DEFAULT_LANGUAGE=ru

# Поддерживаемые языки (через запятую)
SUPPORTED_LANGUAGES=ru,kk,en

# Часовой пояс по умолчанию
DEFAULT_TIMEZONE=Asia/Almaty

# =============================================================================
# СОЦИАЛЬНЫЕ СЕТИ
# =============================================================================

# Facebook App
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# VK App
VK_APP_ID=your-vk-app-id
VK_APP_SECRET=your-vk-app-secret

# =============================================================================
# API ЛИМИТЫ
# =============================================================================

# Лимит запросов к API (requests per minute)
API_RATE_LIMIT=100

# Лимит для аутентифицированных пользователей
API_RATE_LIMIT_AUTHENTICATED=200

# Лимит для администраторов
API_RATE_LIMIT_ADMIN=1000

# =============================================================================
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# =============================================================================

# Включить документацию API (Swagger)
ENABLE_API_DOCS=True

# URL документации
API_DOCS_URL=/api/docs

# Включить метрики Prometheus
ENABLE_PROMETHEUS_METRICS=False

# Порт для метрик
METRICS_PORT=9090

# Включить health check endpoint
ENABLE_HEALTH_CHECK=True

# =============================================================================
# ПЕРЕМЕННЫЕ ДЛЯ DOCKER
# =============================================================================

# Имя контейнера базы данных
DB_CONTAINER_NAME=kolesa_postgres

# Пароль для PostgreSQL в Docker
POSTGRES_PASSWORD=kolesa_password

# Имя базы данных
POSTGRES_DB=kolesa_db

# Пользователь PostgreSQL
POSTGRES_USER=kolesa_user

# =============================================================================
# ДОПОЛНИТЕЛЬНЫЕ ПРИМЕЧАНИЯ
# =============================================================================

# ВАЖНО:
# 1. Никогда не коммитьте файл .env в git!
# 2. В продакшене используйте сложные пароли и ключи
# 3. Регулярно обновляйте секретные ключи
# 4. Используйте HTTPS в продакшене
# 5. Настройте правильные CORS origins
# 6. Включите мониторинг и логирование

# БЕЗОПАСНОСТЬ:
# - Смените все секретные ключи на случайные значения
# - Используйте переменные окружения вместо хардкода
# - Ограничьте доступ к файлу .env (chmod 600)
# - Используйте разные ключи для разных окружений

# ПРОИЗВОДИТЕЛЬНОСТЬ:
# - Настройте правильные размеры пулов соединений
# - Включите кэширование в продакшене
# - Настройте правильные лимиты файлов
# - Используйте CDN для статических файлов